<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accessibility Test Page - EU NCP Portal</title>

    <!-- Bootstrap 5.3.3 Local CSS -->
    <link rel="stylesheet" href="../static/vendor/bootstrap/bootstrap.min.css">

    <!-- Font Awesome 6 Local CSS -->
    <link rel="stylesheet" href="../static/vendor/fontawesome/fontawesome.min.css">

    <!-- Accessibility CSS -->
    <link rel="stylesheet" href="../static/css/accessibility.css">

    <style>
        .test-section {
            margin: 2rem 0;
            padding: 1.5rem;
            border: 1px solid #dee2e6;
            border-radius: 8px;
        }
        .test-image {
            width: 200px;
            height: 150px;
            background: #f8f9fa;
            border: 1px dashed #ccc;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 1rem 0;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav id="main-navigation" class="navbar navbar-expand-lg navbar-light bg-white border-bottom" role="navigation" aria-label="Main navigation">
        <div class="container-fluid px-4">
            <a href="#" class="navbar-brand d-flex align-items-center">
                <i class="fas fa-hospital text-primary me-2" aria-hidden="true"></i>
                <span class="fw-bold text-primary">EU NCP Portal - Accessibility Test</span>
            </a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar-nav"
                    aria-controls="navbar-nav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbar-nav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a href="#test-forms" class="nav-link">
                            <i class="fas fa-edit me-1" aria-hidden="true"></i>
                            Forms Test
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#test-images" class="nav-link">
                            <i class="fas fa-image me-1" aria-hidden="true"></i>
                            Images Test
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#test-tables" class="nav-link">
                            <i class="fas fa-table me-1" aria-hidden="true"></i>
                            Tables Test
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="main-content" class="container py-4" role="main" aria-label="Main content">
        <h1>Accessibility & Performance Test Page</h1>
        <p class="lead">This page tests all accessibility and performance enhancements implemented in Phase 6.</p>

        <!-- Forms Test Section -->
        <section id="test-forms" class="test-section">
            <h2>Form Accessibility Test</h2>
            <form>
                <div class="mb-3">
                    <label for="patient-name" class="form-label">Patient Name *</label>
                    <input type="text" class="form-control" id="patient-name" required aria-describedby="patient-name-help">
                    <div id="patient-name-help" class="form-text">Enter the patient's full legal name</div>
                </div>

                <div class="mb-3">
                    <label for="patient-dob" class="form-label">Date of Birth</label>
                    <input type="date" class="form-control" id="patient-dob">
                </div>

                <div class="mb-3">
                    <label for="patient-country" class="form-label">Country</label>
                    <select class="form-select" id="patient-country" aria-describedby="country-help">
                        <option value="">Select a country</option>
                        <option value="IE">Ireland</option>
                        <option value="DE">Germany</option>
                        <option value="FR">France</option>
                        <option value="ES">Spain</option>
                    </select>
                    <div id="country-help" class="form-text">Select the patient's country of residence</div>
                </div>

                <div class="mb-3">
                    <label for="medical-notes" class="form-label">Medical Notes</label>
                    <textarea class="form-control" id="medical-notes" rows="4"
                              aria-describedby="notes-help"></textarea>
                    <div id="notes-help" class="form-text">Additional medical information or notes</div>
                </div>

                <fieldset class="mb-3">
                    <legend class="form-label">Consent Options</legend>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="consent-share" value="share">
                        <label class="form-check-label" for="consent-share">
                            Allow data sharing with EU healthcare providers
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="consent-emergency" value="emergency">
                        <label class="form-check-label" for="consent-emergency">
                            Allow emergency access to medical records
                        </label>
                    </div>
                </fieldset>

                <div class="d-flex gap-2">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save me-1" aria-hidden="true"></i>
                        Save Patient Data
                    </button>
                    <button type="reset" class="btn btn-outline-secondary">
                        <i class="fas fa-undo me-1" aria-hidden="true"></i>
                        Reset Form
                    </button>
                </div>
            </form>
        </section>

        <!-- Images Test Section -->
        <section id="test-images" class="test-section">
            <h2>Lazy Loading Images Test</h2>
            <p>These images demonstrate lazy loading functionality:</p>

            <div class="row">
                <div class="col-md-4">
                    <img data-src="https://via.placeholder.com/300x200/005eb8/ffffff?text=Healthcare+Image+1"
                         alt="Healthcare facility exterior view" class="img-fluid rounded">
                </div>
                <div class="col-md-4">
                    <img data-src="https://via.placeholder.com/300x200/28a745/ffffff?text=Medical+Equipment"
                         alt="Medical equipment and technology" class="img-fluid rounded">
                </div>
                <div class="col-md-4">
                    <img data-src="https://via.placeholder.com/300x200/dc3545/ffffff?text=Emergency+Care"
                         alt="Emergency care department" class="img-fluid rounded">
                </div>
            </div>

            <div class="mt-4">
                <h3>Image without lazy loading (for comparison)</h3>
                <img src="https://via.placeholder.com/300x150/6c757d/ffffff?text=Standard+Load"
                     alt="Standard loaded image for comparison" class="img-fluid rounded no-contrast">
            </div>
        </section>

        <!-- Tables Test Section -->
        <section id="test-tables" class="test-section">
            <h2>Accessible Table Test</h2>
            <table class="table table-striped" role="table">
                <caption>Patient appointments for current week</caption>
                <thead>
                    <tr>
                        <th scope="col">Patient ID</th>
                        <th scope="col">Name</th>
                        <th scope="col">Appointment Date</th>
                        <th scope="col">Department</th>
                        <th scope="col">Status</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>001</td>
                        <td>John Doe</td>
                        <td>2024-01-15 10:00</td>
                        <td>Cardiology</td>
                        <td><span class="badge bg-success">Confirmed</span></td>
                        <td>
                            <button class="btn btn-sm btn-outline-primary" aria-label="Edit appointment for John Doe">
                                <i class="fas fa-edit" aria-hidden="true"></i>
                            </button>
                            <button class="btn btn-sm btn-outline-danger ms-1" aria-label="Cancel appointment for John Doe">
                                <i class="fas fa-times" aria-hidden="true"></i>
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>002</td>
                        <td>Jane Smith</td>
                        <td>2024-01-15 14:30</td>
                        <td>Neurology</td>
                        <td><span class="badge bg-warning">Pending</span></td>
                        <td>
                            <button class="btn btn-sm btn-outline-primary" aria-label="Edit appointment for Jane Smith">
                                <i class="fas fa-edit" aria-hidden="true"></i>
                            </button>
                            <button class="btn btn-sm btn-outline-danger ms-1" aria-label="Cancel appointment for Jane Smith">
                                <i class="fas fa-times" aria-hidden="true"></i>
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>003</td>
                        <td>Mike Johnson</td>
                        <td>2024-01-16 09:15</td>
                        <td>Orthopedics</td>
                        <td><span class="badge bg-danger">Cancelled</span></td>
                        <td>
                            <button class="btn btn-sm btn-outline-primary" aria-label="Edit appointment for Mike Johnson">
                                <i class="fas fa-edit" aria-hidden="true"></i>
                            </button>
                            <button class="btn btn-sm btn-outline-success ms-1" aria-label="Reschedule appointment for Mike Johnson">
                                <i class="fas fa-redo" aria-hidden="true"></i>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Interactive Elements Test -->
        <section class="test-section">
            <h2>Interactive Elements Test</h2>

            <div class="row">
                <div class="col-md-6">
                    <h3>Modal Test</h3>
                    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#test-modal">
                        Open Test Modal
                    </button>
                </div>
                <div class="col-md-6">
                    <h3>Accordion Test</h3>
                    <div class="accordion" id="test-accordion">
                        <div class="accordion-item">
                            <h4 class="accordion-header" id="heading-one">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#collapse-one" aria-expanded="true" aria-controls="collapse-one">
                                    Medical History Section
                                </button>
                            </h4>
                            <div id="collapse-one" class="accordion-collapse collapse show"
                                 aria-labelledby="heading-one" data-bs-parent="#test-accordion">
                                <div class="accordion-body">
                                    This section contains patient medical history information.
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h4 class="accordion-header" id="heading-two">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#collapse-two" aria-expanded="false" aria-controls="collapse-two">
                                    Current Medications
                                </button>
                            </h4>
                            <div id="collapse-two" class="accordion-collapse collapse"
                                 aria-labelledby="heading-two" data-bs-parent="#test-accordion">
                                <div class="accordion-body">
                                    This section lists current patient medications.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Keyboard Navigation Test -->
        <section class="test-section">
            <h2>Keyboard Navigation Test</h2>
            <p>Use Tab, Shift+Tab, Enter, and Space to navigate through these elements:</p>

            <div class="d-flex flex-wrap gap-2">
                <a href="#" class="btn btn-outline-primary">Link Button</a>
                <button class="btn btn-success">Regular Button</button>
                <input type="text" class="form-control" style="width: 200px;" placeholder="Test input">
                <select class="form-select" style="width: 150px;">
                    <option>Option 1</option>
                    <option>Option 2</option>
                </select>
            </div>
        </section>
    </main>

    <!-- Test Modal -->
    <div class="modal fade" id="test-modal" tabindex="-1" aria-labelledby="test-modal-label" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="test-modal-label">Accessibility Test Modal</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>This modal tests focus trapping and keyboard navigation.</p>
                    <form>
                        <div class="mb-3">
                            <label for="modal-input" class="form-label">Test Input</label>
                            <input type="text" class="form-control" id="modal-input">
                        </div>
                        <div class="mb-3">
                            <label for="modal-select" class="form-label">Test Select</label>
                            <select class="form-select" id="modal-select">
                                <option>Choice 1</option>
                                <option>Choice 2</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary">Save Changes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white py-4" role="contentinfo" aria-label="Site footer">
        <div class="container text-center">
            <p class="mb-0">EU NCP Portal - Accessibility Test Page</p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="../static/vendor/bootstrap/bootstrap.bundle.min.js"></script>
    <script src="../static/js/accessibility.js"></script>
</body>
</html>
