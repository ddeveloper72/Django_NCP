{% load contact_cards %}

{% comment %}
Administrative Information Template
Uses standardized contact cards for all administrative contacts
{% endcomment %}

<div class="administrative-info">
    <div class="administrative-info__header">
        <h2 class="administrative-info__title">
            <i class="fas fa-users"></i>
            Administrative Information
        </h2>
    </div>

    <div class="administrative-info__content">

        {% comment %} Patient Contact Information {% endcomment %}
        {% if administrative_info.patient_contact %}
        <div class="administrative-info__section">
            {% contact_card administrative_info.patient_contact "Patient Contact Information" "patient" %}
        </div>
        {% endif %}

        {% comment %} Legal Authenticator {% endcomment %}
        {% if administrative_info.legal_authenticator %}
        <div class="administrative-info__section">
            {% contact_card administrative_info.legal_authenticator "Legal Authenticator" "legal_auth" %}
        </div>
        {% endif %}

        {% comment %} Custodian {% endcomment %}
        {% if administrative_info.custodian %}
        <div class="administrative-info__section">
            {% contact_card administrative_info.custodian "Custodian" "custodian" %}
        </div>
        {% endif %}

        {% comment %} Authors List {% endcomment %}
        {% if administrative_info.authors %}
        <div class="administrative-info__section">
            {% contact_card_list administrative_info.authors "Authors" "author" %}
        </div>
        {% endif %}

        {% comment %} Fallback for missing administrative info {% endcomment %}
        {% if not administrative_info.patient_contact and not administrative_info.legal_authenticator and not
        administrative_info.custodian and not administrative_info.authors %}
        <div class="administrative-info__empty">
            <i class="fas fa-info-circle"></i>
            <p>No administrative information available for this document.</p>
        </div>
        {% endif %}

    </div>
</div>

<style>
    /* Administrative Info Specific Styles */
    .administrative-info {
        background: #ffffff;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        margin-bottom: 24px;
    }

    .administrative-info__header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 16px 20px;
        border-radius: 8px 8px 0 0;
        margin-bottom: 0;
    }

    .administrative-info__title {
        margin: 0;
        font-size: 20px;
        font-weight: 600;
        display: flex;
        align-items: center;
    }

    .administrative-info__title i {
        margin-right: 10px;
    }

    .administrative-info__content {
        padding: 20px;
    }

    .administrative-info__section {
        margin-bottom: 24px;
    }

    .administrative-info__section:last-child {
        margin-bottom: 0;
    }

    .administrative-info__empty {
        text-align: center;
        padding: 40px;
        color: #6c757d;
    }

    .administrative-info__empty i {
        font-size: 48px;
        margin-bottom: 16px;
        opacity: 0.5;
    }

    .administrative-info__empty p {
        margin: 0;
        font-style: italic;
    }

    /* Responsive */
    @media (max-width: 768px) {
        .administrative-info__content {
            padding: 16px;
        }

        .administrative-info__section {
            margin-bottom: 20px;
        }
    }
</style>