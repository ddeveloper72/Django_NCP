{% load patient_filters %}

{# Generic Clinical Section Template #}

{# Generic Clinical Section - Optimized (no card wrapper) #}
<div class="medical-section"
    id="{% if generic_config %}{{ generic_config.section_id|default:'generic-section' }}{% else %}{{ section.section_id|default:'generic-section' }}{% endif %}">
    {# Remove card wrapper - content goes directly in accordion body #}

        {# Clinical Section Content with Tabs #}
        {% if section.has_entries and section.clinical_table %}
        {# Optimized Clinical Table Section - Tabs now in parent header #}

            {# Structured Content Tab #}
            <div id="generic_{{ section_index }}_structured" class="clinical-tab-content active">
                {% include 'patient_data/sections/clinical_table_section.html' with hide_tabs=True %}
            </div>

            {# Original Content Tab #}
            <div id="generic_{{ section_index }}_original" class="clinical-tab-content">
                {% include 'patient_data/sections/original_content.html' %}
            </div>

        {% elif section.has_entries %}
        {# Optimized Simple List Section - Tabs now in parent header #}

            {# Structured Content Tab #}
            <div id="generic_{{ section_index }}_structured" class="clinical-tab-content active">
                {% include 'patient_data/sections/simple_list_section.html' with hide_tabs=True %}
            </div>

            {# Original Content Tab #}
            <div id="generic_{{ section_index }}_original" class="clinical-tab-content">
                {% include 'patient_data/sections/original_content.html' %}
            </div>

        {% else %}
        {# Optimized Text-only Section - Tabs now in parent header #}

            {# Original Content Tab #}
            <div id="generic_{{ section_index }}_original" class="clinical-tab-content active">
                {% include 'patient_data/sections/original_content.html' %}
            </div>
        {% endif %}
</div>
