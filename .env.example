# Django EU eHealth NCP Server Environment Configuration
# Copy this file to .env and fill in your actual values

# Django Configuration
SECRET_KEY=your_django_secret_key_here_change_in_production
DEBUG=True
DEVELOPMENT=True
ALLOWED_HOSTS=localhost,127.0.0.1

# Database Configuration
# For Heroku with PostgreSQL or Azure SQL, use DATABASE_URL
DATABASE_URL=

# Azure SQL Database (alternative to DATABASE_URL)
AZURE_SQL_SERVER=myfreesqldbserver72.database.windows.net
AZURE_SQL_DATABASE=eHealth
AZURE_SQL_USER=your_admin_username
AZURE_SQL_PASSWORD=your_admin_password
AZURE_SQL_PORT=1433

# eHealth Services Configuration
COUNTRY_CODE=IE
NCP_IDENTIFIER=ie-ncp-01
ORGANIZATION_NAME=Ireland Health Service Executive
ORGANIZATION_ID=ie-hse

# SMP Integration (DomiSMP Connection)
SMP_BASE_URL=http://localhost:8290/smp
SMP_USERNAME=iesmpuser
SMP_PASSWORD=your_smp_password_here
SMP_DOMAIN=domain1
SMP_KEYSTORE_PATH=
SMP_KEYSTORE_PASSWORD=
SMP_TRUSTSTORE_PATH=
SMP_TRUSTSTORE_PASSWORD=

# FHIR Configuration
FHIR_PROVIDER=AZURE
FHIR_VERSION=R4
ENABLE_PATIENT_SUMMARY=True
ENABLE_EPRESCRIPTION=True
ENABLE_EDISPENSATION=True
ENABLE_LABORATORY_RESULTS=True
ENABLE_HOSPITAL_DISCHARGE=True
ENABLE_MEDICAL_IMAGING=True

# Azure FHIR Service Configuration (for FHIR_PROVIDER=AZURE)
AZURE_FHIR_BASE_URL=https://your-fhir-service.fhir.azurehealthcareapis.com
AZURE_FHIR_TENANT_ID=your-azure-tenant-id
AZURE_FHIR_SUBSCRIPTION_ID=your-azure-subscription-id
AZURE_FHIR_RESOURCE_GROUP=your-resource-group
AZURE_FHIR_WORKSPACE=your-workspace-name
AZURE_FHIR_SERVICE_NAME=your-fhir-service-name

# Azure Authentication (choose one method):
# Method 1: Service Principal (recommended for production/unattended operation)
AZURE_FHIR_CLIENT_ID=your-service-principal-client-id
AZURE_FHIR_CLIENT_SECRET=your-service-principal-secret

# Method 2: Managed Identity (automatic when deployed to Azure)
# No configuration needed - automatically detected

# Method 3: Azure CLI (development only - requires 'az login')
# No configuration needed - uses current Azure CLI session

# HAPI FHIR Configuration (for FHIR_PROVIDER=HAPI)
HAPI_FHIR_BASE_URL=https://hapi.fhir.org/baseR4

# Security Configuration
USE_TLS=False
TLS_CERT_FILE=
TLS_KEY_FILE=
AUDIT_LOG_ENABLED=True
AUDIT_LOG_FILE=logs/audit.log

# Patient Portal Configuration
PORTAL_TITLE=Ireland eHealth Portal
PORTAL_ORGANIZATION=Health Service Executive
PORTAL_CONTACT_EMAIL=support@hse.ie
PATIENT_LOGIN_ENABLED=True
PROFESSIONAL_LOGIN_ENABLED=True

# Cross-Border Services
PATIENT_LOOKUP_ENABLED=True
CROSS_BORDER_AUTH_ENABLED=True
PATIENT_CONSENT_REQUIRED=True

# Logging
LOG_LEVEL=INFO
LOG_FILE=logs/django_ncp.log

# Email Configuration (for notifications)
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.hse.ie
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=
EMAIL_HOST_PASSWORD=

# Cache Configuration
CACHE_BACKEND=django.core.cache.backends.locmem.LocMemCache
CACHE_TIMEOUT=300

# Session Configuration
SESSION_COOKIE_SECURE=False
SESSION_COOKIE_HTTPONLY=True
SESSION_EXPIRE_AT_BROWSER_CLOSE=True
